<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="estilo.css">
    <title>To Do - List</title>
        
</head>
<body>
    <h1>To-Do List</h1>
    <div>
        <ul id="ul">
            <li>
                <input type="text" placeholder="Adicione a tarefa" class="textArea">
                <button type="button" class="addTask" onclick="add()">+</button>
            </li>
        </ul>
    </div>
    <script>
        function add() {
            var newItem = document.getElementById('ul');                            //põe o elemento 'ul' como uma variável (newItem)
            if (document.querySelector('input.textArea').value !== '') {            //condicional para que a função só seja chamada caso o valor do input seja diferente de vazio
                let task = document.createElement('li');                            //cria um novo elemento 'li' e põe como valor da variável task
                task.innerHTML = document.querySelector('input.textArea').value;    //modifica a estrutura html adicionando o valor colocado no input (textArea) à variável task
                let checkbox = document.createElement('input');                     //cria um input e põe como valor na variável checkbox
                checkbox.setAttribute("type", "checkbox");                          //configura o atributo/tipo como "checkbox"
                checkbox.addEventListener('change', function(){                     //"ouve" a mudança de estado da variável checkbox quando a caixa é marcada ou desmarcada. A função vazia (callback) é chamada como um elemento de html
                    if (this.checked == true) {                                     //condicional para a variável checkbox. O "this" é aceito aqui por conta da função callback
                        task.style.textDecoration = 'line-through';                 //se a condição for verdadeira, configura um textDecoration no valor da variável task
                    } else {
                        task.style.textDecoration = 'none';                         //se for falsa, o "textDecoration" é configurado para "none"
                    }
                })
                checkbox.classList.add('squareBox');                                //adiciona uma classe de CSS para que o quadrado do checkbox seja estilizado
                task.classList.add('itemList');                                     //adiciona uma classe de CSS para que o conteúdo da variável task seja estilizado 
                task.prepend(checkbox);                                             //o método prepend põe o parâmetro antes da variável/elemento pois, por padrão, texto sempre vai ser mostrado antes
                newItem.appendChild(task);                                          //faz com que a variável task seja adicionada em forma de lista conforme vai sendo preenchida repetidamente
                document.querySelector('input.textArea').value = '';                //faz com que a área de input (textArea) fique em branco novamente para receber um novo valor
            }
        }
    </script>
</body>
</html>